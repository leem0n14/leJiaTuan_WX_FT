(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_study/lianti/lianti"],{3585:function(t,e,n){},"5a0b":function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n("2eee")),o=i(n("c973")),r=i(n("9523")),u=n("26cb");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={data:function(){return{datiMode:0,cdn:this.$conf.CDN_HOST,type:"",isShowList:!1,courseCode:null,examIndex:1,examqk:[],score:0,wzt:0,ct:{list:[],pageIndex:1,limit:10},option:[{isAct:!1},{isAct:!1},{isAct:!1},{isAct:!1}],countdownTime:{m:45,s:0},timestamp:0,answer:[{option:"A",content:""},{option:"B",content:""}],myChoose:"",isAnswer:!1,isCorrect:!1,isSub:!1,chartData:{series:[{name:"完成度",color:"#2fc25b",data:0}]},opts:{extra:{arcbar:{type:"circle",width:null,lineCap:"round"}}},nav:{left:{text:"答题模式",isAct:!0},right:{text:"背题模式",isAct:!1}}}},computed:a({},(0,u.mapState)({question:function(t){return t.study.questionMsg},id:function(t){return t.study.id},sum:function(t){return t.study.sum},examList:function(t){return t.study.examList},isShoucang:function(t){return t.study.collectBool}})),methods:a(a(a({},(0,u.mapActions)({getQuetion_fun:"study/getQuetion",getPro_fun:"study/getQuetionId",savePro_fun:"study/savePro",saveMis_fun:"study/saveMistake",getExam_fun:"study/getExam1",getRate_fun:"study/getRate",toCollect_fun:"study/collect"})),(0,u.mapMutations)({idAdd_fun:"study/idAdd"})),{},{toScore:function(){this.$win.show("score/score?wzt="+this.wzt+"&courseCode="+this.courseCode+"&timeStamp="+this.timestamp+"&score="+this.score+"&examqk="+encodeURIComponent(JSON.stringify(this.examqk)))},subExam:function(){for(var t=0,e=0,n=0;n<this.examqk.length;n++)1==this.examqk[n].statu&&t++;this.chartData.series[0].data=.01*t;for(var i=0;i<this.examqk.length;i++)0==this.examqk[i].statu&&e++;this.score=t,this.wzt=e,this.isSub=!0},fix2:function(t){return t<10&&(t="0"+t),t},toPX:function(){this.px=t.getWindowInfo().screenWidth/750,console.log("lwlsb",this.px),this.opts.extra.arcbar.width=13*this.px},countdown:function(){var t=this,e=setInterval((function(){if(0==t.countdownTime.s?(t.countdownTime.s=59,t.countdownTime.m--):t.countdownTime.s--,0==t.countdownTime.m&&0==t.countdownTime.s)return clearInterval(e),0;t.timestamp+=1e3}),1e3)},answerJudge:function(t){this.questionMsg.correct},backAnswerIcon:function(t){return 1==t?"/correct.svg":0==t?"/err.svg":""},myAnswer:function(){for(var t="",e=0;e<this.option.length;e++)this.option[e].isAct&&(t+=String.fromCharCode(65+e));return this.myChoose=t,t},clickListGet:function(t){var e=this;this.examIndex=t+1,this.getQuetion().then((function(){e.isShowList=!1}))},clickAnswer:function(t){if(1==this.question.form){if(console.log("多选"),this.isAnswer)return;this.option[t].isAct=!this.option[t].isAct}else{if(console.log("单选"),this.isAnswer)return;for(var e=0;e<this.option.length;e++)this.option[e].isAct=!1;this.option[t].isAct=!0}this.myAnswer()},sub:function(t){for(var e=0,n=0;n<this.option.length;n++)if(!this.option[n].isAct&&(e++,4==e))return void this.$win.nlog("请选择答案");this.isAnswer=!0;var i=this.myAnswer();"模拟考试"==this.type&&(this.examqk[this.examIndex-1].answer=i),i==this.question.answer?(console.log("答案正确"),this.isCorrect=!0,"模拟考试"==this.type&&(this.examqk[this.examIndex-1].statu=1)):(console.log("答案错误"),this.isCorrect=!1,console.log("保存错题’"+t),this.saveMis(t),"模拟考试"==this.type&&(this.examqk[this.examIndex-1].statu=2)),this.idAdd_fun(),this.savePro()},getNext:function(){"模拟考试"==this.type&&this.examIndex++,this.isAnswer=!1,this.myChoose="",this.getQuetion();for(var t=0;t<this.option.length;t++)this.option[t].isAct=!1},getQuetion:function(t){var e=this;return(0,o.default)(s.default.mark((function n(){var i,o;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i="模拟考试"==e.type?e.examList[e.examIndex-1]:e.id+1,o={id:t||i,courseCode:e.courseCode,userId:e.$db.getSync("userId")},n.next=4,e.getQuetion_fun(o);case 4:n.sent;case 5:case"end":return n.stop()}}),n)})))()},getPro:function(t){var e=this;return(0,o.default)(s.default.mark((function n(){var i;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={userId:e.$db.getSync("userId"),courseCode:t},n.next=3,e.getPro_fun(i);case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},savePro:function(){var t=this;return(0,o.default)(s.default.mark((function e(){var n;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={userId:t.$db.getSync("userId"),id:t.id,courseCode:t.courseCode},e.next=3,t.savePro_fun(n);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))()},saveMis:function(t){var e=this;return(0,o.default)(s.default.mark((function n(){var i;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={userId:e.$db.getSync("userId"),courseCode:e.courseCode,id:t},n.next=3,e.saveMis_fun(i);case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},getExam:function(){var t=this;return(0,o.default)(s.default.mark((function e(){var n;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={km:t.courseCode},e.next=3,t.getExam_fun(n);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))()},toCollect:function(){var t=this;return(0,o.default)(s.default.mark((function e(){var n;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={course:t.courseCode,userId:t.$db.getSync("userId"),id:t.id+1,bool:t.isShoucang},e.next=3,t.toCollect_fun(n).then((function(){t.getQuetion()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))()}}),onLoad:function(t){var e=this;this.courseCode=t.courseCode,console.log("练题页拿到课程码",this.courseCode),this.type=t.type,"模拟考试"===this.type?(this.countdown(),this.toPX(),this.getExam().then((function(){console.log("666’"),e.getQuetion().then((function(){for(var t=[],n=0;n<e.examList.length;n++){t.push({statu:0,answer:null})}e.examqk=t}))}))):"顺序练题"===t.type?this.getPro(this.courseCode).then((function(t){e.getQuetion()})):"我的错题"===t.type?(console.log(t.questionId,"错题id"),this.getQuetion(t.questionId)):"我的收藏"===t.type&&(console.log(t.questionId,"收藏的id"),this.getQuetion(t.questionId))},onShow:function(){console.log("show",this.courseCode)}};e.default=d}).call(this,n("543d")["default"])},"5ee5":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={qiunDataCharts:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts")]).then(n.bind(null,"c549"))}},s=function(){var t=this,e=t.$createElement,n=(t._self._c,"模拟考试"===t.type?t.fix2(t.countdownTime.m):null),i="模拟考试"===t.type?t.fix2(t.countdownTime.s):null,s=t.__map(t.examList.length,(function(e,n){var i=t.__get_orig(e),s=t.fix2(n+1);return{$orig:i,m2:s}})),o="模拟考试"==t.type?t.examList.length:null;t._isMounted||(t.e0=function(e){t.nav.left.isAct=!0,t.nav.right.isAct=!1,t.datiMode=0},t.e1=function(e){t.nav.right.isAct=!0,t.nav.left.isAct=!1,t.datiMode=1},t.e2=function(e){t.isShowList=!1},t.e3=function(e){t.isSub=!1},t.e4=function(e){t.isShowList=!0}),t.$mp.data=Object.assign({},{$root:{m0:n,m1:i,l0:s,g0:o}})},o=[]},"9e7b":function(t,e,n){"use strict";var i=n("3585"),s=n.n(i);s.a},a260:function(t,e,n){"use strict";n.r(e);var i=n("5a0b"),s=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},e5d7:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("106e");i(n("66fd"));var s=i(n("feb1"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},feb1:function(t,e,n){"use strict";n.r(e);var i=n("5ee5"),s=n("a260");for(var o in s)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("9e7b");var r=n("f0c5"),u=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=u.exports}},[["e5d7","common/runtime","common/vendor"]]]);