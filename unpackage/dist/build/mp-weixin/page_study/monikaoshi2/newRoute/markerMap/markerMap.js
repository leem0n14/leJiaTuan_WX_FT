(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_study/monikaoshi2/newRoute/markerMap/markerMap"],{"07fd":function(t,e,n){"use strict";(function(t,o){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("448a")),c=i(n("9523"));n("26cb");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,c.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s={data:function(){return{cdn:this.$conf.CDN_HOST,maps:1,longitude:null,latitude:null,disArr:[],points:[],circles:[],markers:[],markersIndex:0,markersIcon:null,markersName:null,delMarkNum:0}},methods:{markLocation:function(t){if(null==this.markersIcon&&null==this.markersName)this.$win.nlog("请先选择指令");else{var e={latitude:t.detail.latitude,longitude:t.detail.longitude},n=l(l({},e),{},{id:this.markersIndex,width:30,height:30,alpha:.7,iconPath:this.markersIcon,callout:{content:this.markersName,color:"#383838",bgColor:"#fff",fontSize:"24rpx",padding:5,borderColor:"#45d079",borderWidth:"3rpx",display:"ALWAYS",borderRadius:"5"}}),o=l({radius:6,color:"#AACCEE",fillColor:"#AACCEE32",strokeWidth:2},e);this.points.push(e),this.circles.push(o),this.markers.push(n),this.markersIndex++,this.markersName=null,this.markersIcon=null}},polyLine:function(){return this.points.length>=2?[{points:(0,r.default)(this.points),color:"#cc463d",width:2}]:[]},chooseCommond:function(t){this.$win.nlog("选择了:指令"+(t+1)),this.markersIcon=this.cdn+"/image/study/sourse3/voice/"+(t+1)+".png",this.markersName="指令"+(t+1)},clickMark:function(t){console.log("点击标记")},clickCallout:function(t){console.log("点击气泡",t),console.log(t.detail.markerId),this.delMark(t.detail.markerId-this.delMarkNum)},delMark:function(e){var n=this;t.showModal({title:"是否删除该点",content:"指令1",cancelText:"取消删除",confirmText:"删除",success:function(t){t.confirm?(n.circles.splice(e,1),n.markers.splice(e,1),n.points.splice(e,1),n.delMarkNum++,n.$win.nlog("删除成功!")):t.cancel&&n.$win.nlog("取消删除!")},fail:function(t){console.log("错误",t)}})},openTxTool:function(){var t=JSON.stringify({latitude:this.latitude,longitude:this.longitude});o.navigateTo({url:"plugin://chooseLocation/index?key=3LUBZ-GBP6W-FBSRJ-R3E5G-DYQ66-YCB5R&referer=乐驾团&location="+t+"&category=生活服务,娱乐休闲"})},getLocation:function(){var e=this;t.getLocation({type:"gcj02",success:function(t){console.log("当前位置的经度："+t.longitude),console.log("当前位置的纬度："+t.latitude),console.log("精度",t.accuracy),e.longitude=t.longitude,e.latitude=t.latitude}})},locationUpdate:function(){this.$win.nlog("startLocationUpdate接口未申请成功。。。")},locationListen:function(){this.$win.nlog("onLocationChange接口未申请成功。。。")},stopListen:function(){this.$win.nlog("onLocationChange接口未申请成功。。。"),console.log("退出页面")},countDistance:function(t,e){for(var n=3.141592653589793,o=6371229,i=t.longitude,r=t.latitude,c=[],a=0;a<e.length;a++){var l,s,u,d=e[a].longitude,f=e[a].latitude,h=i>d?i-d:d-i;l=h*n*o*Math.cos((r+f)/2*n/180)/180,s=(f-r)*n*o/180,u=Math.hypot(l,s),console.log("NO"+a,u+"米"),c.push(u)}this.disArr=c}},computed:{},onLoad:function(){this.getLocation(),this.locationUpdate()},onHide:function(){},onUnload:function(){this.stopListen()}};e.default=s}).call(this,n("543d")["default"],n("bc2e")["default"])},"11e3":function(t,e,n){"use strict";n.r(e);var o=n("07fd"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},"43c3":function(t,e,n){"use strict";var o=n("74f3"),i=n.n(o);i.a},"47c5":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("106e");o(n("66fd"));var i=o(n("d95f"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"55f6":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement,e=(this._self._c,this.polyLine());this.$mp.data=Object.assign({},{$root:{m0:e}})},i=[]},"74f3":function(t,e,n){},d95f:function(t,e,n){"use strict";n.r(e);var o=n("55f6"),i=n("11e3");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("43c3");var c=n("f0c5"),a=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=a.exports}},[["47c5","common/runtime","common/vendor"]]]);