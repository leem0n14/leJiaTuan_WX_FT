(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_shopping/orderDetail"],{"090d":function(e,t,n){"use strict";var r=n("70b3"),c=n.n(r);c.a},"4ec1":function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("106e");r(n("66fd"));var c=r(n("8e9e"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(c.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"67f0":function(e,t,n){"use strict";n.r(t);var r=n("a6e8"),c=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=c.a},"70b3":function(e,t,n){},"8e9e":function(e,t,n){"use strict";n.r(t);var r=n("bfd8"),c=n("67f0");for(var u in c)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return c[e]}))}(u);n("090d");var a=n("f0c5"),s=Object(a["a"])(c["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},a6e8:function(e,t,n){"use strict";(function(e){var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n("2eee")),u=r(n("c973")),a=r(n("9523")),s=n("26cb");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{cdn:this.$conf.CDN_HOST,status:0,isNewOrder:!1,id:null}},computed:i({},(0,s.mapState)({orderMsg:function(e){return e.pay.order},goodMsg:function(e){return e.pay.good},userMsg:function(e){return e.pay.user},paySuccessMsg:function(e){return e.pay.paySuccess}})),methods:i(i({},(0,s.mapActions)({cteateOrder_fun:"pay/cteateOrder",pay_fun:"pay/wxPay",getPaySuccess_fun:"pay/paySuccess",cancelOrder_fun:"order/cancelOrder"})),{},{cancelOrder:function(e){var t=this;return(0,u.default)(c.default.mark((function n(){var r;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$win.nlog("取消订单"),r={statu:2,id:e},n.next=4,t.cancelOrder_fun(r);case 4:n.sent;case 5:case"end":return n.stop()}}),n)})))()},cteateOrder:function(e){var t=this;return(0,u.default)(c.default.mark((function n(){var r;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={userId:t.$db.getSync("userId"),goodId:e},console.log("生成订单"),n.next=4,t.cteateOrder_fun(r);case 4:n.sent;case 5:case"end":return n.stop()}}),n)})))()},wxPay:function(e){var t=this;return(0,u.default)(c.default.mark((function n(){var r;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={header:{userId:t.$db.getSync("userId")},goodId:t.isNewOrder?e:t.paySuccessMsg.goodsId,id:t.isNewOrder?t.orderMsg.id:t.paySuccessMsg.id},n.next=3,t.pay_fun(r);case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},copyOrderId:function(t){var n=this;e.setClipboardData({data:t.toString(),success:function(e){n.$win.nlog("复制成功")},fail:function(e){n.$win.nlog("复制失败"),console.log(e)}})},paySuccess:function(e){var t=this;return(0,u.default)(c.default.mark((function n(){var r;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("订单信息"),r={id:e},n.next=4,t.getPaySuccess_fun(r);case 4:n.sent;case 5:case"end":return n.stop()}}),n)})))()},selectCoupon1:function(){e.navigateTo({url:"/page_my/selestCoupon/selestCoupon"}),console.log("跳转")}}),onShow:function(e){},onLoad:function(e){var t=this;console.log("e",e),e.gid?(this.isNewOrder=!0,this.id=e.gid,console.log(e.gid,"e.gid"),this.cteateOrder(e.gid)):e.id&&(this.isNewOrder=!1,this.paySuccess(e.id).then((function(){0==t.paySuccessMsg.statu?t.$win.nlog("该订单未支付："+t.paySuccessMsg.id):1==t.paySuccessMsg.statu&&t.$win.nlog("该订单支付成功："+t.paySuccessMsg.id)})))}};t.default=d}).call(this,n("543d")["default"])},bfd8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement;this._self._c;this._isMounted||(this.e0=function(e){return this.$win.show("/page_my/pinTuan/pinTuan")})},c=[]}},[["4ec1","common/runtime","common/vendor"]]]);