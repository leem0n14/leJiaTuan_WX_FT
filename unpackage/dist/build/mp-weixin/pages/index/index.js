(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"728d":function(e,t,n){"use strict";(function(e,o){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("2eee")),r=i(n("c973")),u=i(n("9523")),s=n("26cb"),c=i(n("c230"));i(n("3604")),n("b128");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=new c.default({key:"RBNBZ-5QRKD-ZZD42-PEYZU-25XGV-56BIK"}),l={data:function(){return{miaoshaTimeIndex:0,cdn:this.$conf.CDN_HOST,myregion:"选择省市",operate_icon:[{pic:"/image/index/function/invite.svg",name:"邀请好友",url:"/page_indexOperate/invite/invite",id:1},{pic:"/image/index/function/coach.svg",name:"教练团",url:"/page_indexOperate/coach/coach",id:2},{pic:"/image/index/function/venue.svg?city="+this.myregion,name:"附近场地",url:"/page_indexOperate/venue/venue",id:3},{pic:"/image/index/function/mockExam.svg",name:"模拟考试",url:"/pages/study/study",id:4},{pic:"/image/index/function/booking.svg",name:"预约练车",url:"/page_indexOperate/bookingPractice/bookingPractice",id:5},{pic:"/image/index/function/guide.svg",name:"学车指南",id:6}],aa:[{bb:1},{bb:2}],isReceived:!1}},methods:f(f(f({Jump:function(t){console.log(t,"idssssss"),8==t&&e.navigateToMiniProgram({shortLink:"#小程序://火投票/QIP63bLfBJfpCOE",envVersion:"release",success:function(e){console.log("跳转小程序成功！",e)}})}},(0,s.mapActions)({getCarousel_fun:"index/getCarousel",getTannouncement_fun:"index/getTannouncement",getMiaosha_fun:"index/getMiaosha",getPintuan_fun:"index/getPintuan",getHotGoods_fun:"index/getHotGoods",getPersonMsg_fun:"user/getPerson"})),{},{miaoshaChange:function(e){this.miaoshaTimeIndex=e.detail.current},router:function(e,t){4==e&&t?o.switchTab({url:t}):t?this.$win.show(t):this.$win.nlog("该功能暂未开放")},changeCity:function(e){this.myregion=e.detail.value[1].replace("市","")},getAuthorize:function(){var e=this;o.authorize({scope:"scope.userLocation",success:function(t){e.getLocation()},fail:function(t){o.showModal({content:"需要授权位置信息",confirmText:"确认授权"}).then((function(t){t["confirm"]&&o.openSetting({success:function(t){t.authSetting["scope.userLocation"]?o.showToast({title:"授权成功",icon:"none"}):o.showToast({title:"授权失败",icon:"none"}),e.getLocation()}}),t["cancel"]&&e.getLocation()}))}})},getLocation:function(){var e=this;o.getLocation({type:"gcj02",success:function(t){var n=t.latitude,o=t.longitude;g.reverseGeocoder({location:n?"".concat(n,",").concat(o):"",sig:"gfOfdUfdyWmTa5FMeFl6AXhXKEUSSYVo",success:function(t){e.myregion=t.result.address_component.city.replace("市",""),e.$db.setSync("city",e.myregion)},fail:function(t){e.$win.nlog("获取城市失败")}})},fail:function(e){"getLocation:fail:ERROR_NOCELL&WIFI_LOCATIONSWITCHOFF"===e.errMsg||"getLocation:fail system permission denied"===e.errMsg?o.showModal({content:"请开启手机定位服务",showCancel:!1}):"getLocation:fail:system permission denied"===e.errMsg&&o.showModal({content:"请给微信开启定位权限",showCancel:!1})}})},timeStamp:function(e){var t=(new Date).getTime(),n=new Date(e).getTime()-t,o=Math.floor(n/864e5),i=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),r=Math.floor(n%6e4/1e3);return{d:o,h:i,m:a,s:r}},getCarousel:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getCarousel_fun(n);case 3:t.sent,console.log(n.photo,"resss");case 5:case"end":return t.stop()}}),t)})))()},getTannouncement:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getTannouncement_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},getMiaosha:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getMiaosha_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},getPintuan:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getPintuan_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},getHotGoods:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.getHotGoods_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},toCoupous:function(){o.navigateTo({url:"/page_my/coupon/coupon"}),console.log("跳转")},changeShow:function(e){this.cou[e].onShow=!this.cou[e].onShow,console.log(e+this.goodList[e]),this.get_GetCouponDetail(this.goodList[e].batchId)}},(0,s.mapActions)({get_GetCoupon_fun:"goods/getGetCoupon",get_GetCouponDetail_fun:"goods/getGetCouponDetail",get_postCouponSave_fun:"goods/postCouponSave"})),{},{get_GetCoupon:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={userId:e.$db.getSync("userId")},t.next=3,e.get_GetCoupon_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},get_postCouponSave:function(e){var t=this;return(0,r.default)(a.default.mark((function n(){var o;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o={userId:t.$db.getSync("userId"),batchId:e},n.next=3,t.get_postCouponSave_fun(o);case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},handleCouponClick:function(e){this.get_postCouponSave(e)},getPersonMsg:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={userId:e.$db.getSync("userId")},t.next=3,e.getPersonMsg_fun(n).then((function(){}));case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()}}),computed:f(f({},(0,s.mapState)({carousel:function(e){return e.index.carousel},announcement:function(e){return e.index.announcement},miaoshaGoods:function(e){return e.index.miaoshaGoods},pintuanGoods:function(e){return e.index.pintuanGoods},hotGoods:function(e){return e.index.hotGoods},goodList:function(e){return e.goods.goodList},goodListDetail:function(e){return e.goods.goodListDetail},mygoodListReturn:function(e){return e.goods.mygoodListReturn}})),{},{px:function(){return o.getWindowInfo().screenWidth/750}}),watch:{},onLoad:function(e){this.$db.setSync("scene",decodeURIComponent(e.scene))},onShow:function(){this.getAuthorize(),this.getLocation(),this.getCarousel(),this.getTannouncement(),this.getHotGoods(),this.getMiaosha(),this.getPintuan(),this.get_GetCoupon(),this.getPersonMsg()}};t.default=l}).call(this,n("bc2e")["default"],n("543d")["default"])},"72bd":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("106e");o(n("66fd"));var i=o(n("a08b"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"9a04":function(e,t,n){"use strict";n.r(t);var o=n("728d"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"9cff":function(e,t,n){},a08b:function(e,t,n){"use strict";n.r(t);var o=n("f5a2"),i=n("9a04");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("fd23");var r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=u.exports},f5a2:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uniCountdown:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-countdown/components/uni-countdown/uni-countdown")]).then(n.bind(null,"17d2"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.pintuanGoods.length),o=e.miaoshaGoods.length,i=e.miaoshaGoods.length,a=0!==i?e.__map(e.miaoshaGoods,(function(t,n){var o=e.__get_orig(t),i=e.timeStamp(t.etime),a=e.timeStamp(t.etime),r=e.timeStamp(t.etime),u=e.timeStamp(t.etime),s=e.timeStamp(t.etime);return{$orig:o,m0:i,m1:a,m2:r,m3:u,m4:s}})):null,r=e.miaoshaGoods.length;e._isMounted||(e.e0=function(t,n){var o=arguments[arguments.length-1].currentTarget.dataset,i=o.eventParams||o["event-params"];n=i.k;return e.$win.show("/page_shopping/shopping?id="+n.goodId)},e.e1=function(t,n){var o=arguments[arguments.length-1].currentTarget.dataset,i=o.eventParams||o["event-params"];n=i.k;return e.$win.show("/page_shopping/shopping?id="+n.goodId)},e.e2=function(t,n){var o=arguments[arguments.length-1].currentTarget.dataset,i=o.eventParams||o["event-params"];n=i.k;return e.$win.show("/page_shopping/shopping?id="+n.goodId)}),e.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:i,l0:a,g3:r}})},a=[]},fd23:function(e,t,n){"use strict";var o=n("9cff"),i=n.n(o);i.a}},[["72bd","common/runtime","common/vendor"]]]);