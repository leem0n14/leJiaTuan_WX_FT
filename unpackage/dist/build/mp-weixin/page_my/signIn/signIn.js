(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_my/signIn/signIn"],{"01d7":function(n,t,e){"use strict";var i=e("d133"),r=e.n(i);r.a},2655:function(n,t,e){"use strict";(function(n,t){var i=e("4ea4");e("106e");i(e("66fd"));var r=i(e("e4a2"));n.__webpack_require_UNI_MP_PLUGIN__=e,t(r.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},3282:function(n,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){}));var i=function(){var n=this,t=n.$createElement,e=(n._self._c,n.__map(7,(function(t,e){var i=n.__get_orig(t),r=n.golds(t+1);return{$orig:i,m0:r}}))),i=n.goods&&0===n.goods.length;n._isMounted||(n.e0=function(t){return n.$win.show("detailed/detailed")},n.e1=function(t,e){var i=arguments[arguments.length-1].currentTarget.dataset,r=i.eventParams||i["event-params"];e=r.index;n.days==e&&n.signIn()}),n.$mp.data=Object.assign({},{$root:{l0:e,g0:i}})},r=[]},"44c7":function(n,t,e){"use strict";var i=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(e("2eee")),s=i(e("c973")),o=i(e("9523")),a=e("26cb");i(e("3604"));function u(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?u(Object(e),!0).forEach((function(t){(0,o.default)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var g={data:function(){return{cdn:this.$conf.CDN_HOST,goods:[]}},computed:c({},(0,a.mapState)({days:function(n){return n.signIn.signInDays},points:function(n){return n.signIn.point},shopList:function(n){return n.signIn.shopList},signState:function(n){return n.signIn.isSignIn},signMsg:function(n){return n.signIn.signMsg}})),methods:c(c({},(0,a.mapActions)({toSignIn_fun:"signIn/toSignIn",getSignInDays_fun:"signIn/getSignInDays",getShop_fun:"signIn/getShop",isSign_fun:"signIn/isSignIn"})),{},{signIn:function(){1==this.signState?this.$win.nlog("今天已签到,请明天再来"):0==this.signState?this.toSignIn():(this.$win.nlog("错误"),console.log(this.signState))},toSignIn:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var e,i,s;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new Date,i=e.getTime(),console.log("时间戳",i),console.log("userId",n.$db.getSync("userId")),console.log("token",n.$db.getSync("token")),s={signData:i,lastDay:i-864e5,userId:n.$db.getSync("userId")},t.next=8,n.toSignIn_fun(s);case 8:t.sent,0==n.signMsg.code?(n.getSignInDays(),n.isSignIn(),n.$win.nlog("签到成功")):(n.getSignInDays(),n.isSignIn(),n.$win.nlog("签到失败"));case 10:case"end":return t.stop()}}),t)})))()},getSignInDays:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var e;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={userId:n.$db.getSync("userId")},t.next=3,n.getSignInDays_fun(e);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},isSignIn:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var e,i,s;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new Date,i=e.getTime(),console.log("时间戳",i),s={signData:i,userId:n.$db.getSync("userId")},t.next=6,n.isSign_fun(s);case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()},getShop:function(){var n=this;return(0,s.default)(r.default.mark((function t(){var e;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.next=3,n.getShop_fun(e);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},golds:function(n){return 4==n?"/icon/signIn/gold_30.svg":7==n?"/icon/signIn/gold_50.svg":"/icon/signIn/gold_10.svg"}}),onShow:function(){this.getSignInDays(),this.isSignIn()}};t.default=g},5439:function(n,t,e){"use strict";e.r(t);var i=e("44c7"),r=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(s);t["default"]=r.a},d133:function(n,t,e){},e4a2:function(n,t,e){"use strict";e.r(t);var i=e("3282"),r=e("5439");for(var s in r)["default"].indexOf(s)<0&&function(n){e.d(t,n,(function(){return r[n]}))}(s);e("01d7");var o=e("f0c5"),a=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=a.exports}},[["2655","common/runtime","common/vendor"]]]);