(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_my/orders/orders"],{"023e":function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("106e");r(n("66fd"));var i=r(n("83e5"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"4bbb":function(e,t,n){"use strict";var r=n("58fb"),i=n.n(r);i.a},"58fb":function(e,t,n){},"83e5":function(e,t,n){"use strict";n.r(t);var r=n("f69f"),i=n("94f0");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("4bbb");var u=n("f0c5"),s=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"94f0":function(e,t,n){"use strict";n.r(t);var r=n("ae8a"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ae8a:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2eee")),a=r(n("c973")),u=r(n("9523")),s=n("26cb");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={data:function(){return{show:!0,cdn:this.$conf.CDN_HOST,haveOrder:!0,nav:[{name:"全部",isAct:!0},{name:"待付款",isAct:!1},{name:"已付款",isAct:!1}],pageSize:10,pageIndex:1,navIndex:0,refundReason:"",id:null}},computed:d({},(0,s.mapState)({allOrderList:function(e){return e.order.allOrder},payOrderList:function(e){return e.order.payOrder},nopayOrderList:function(e){return e.order.nopayOrder},orderList:function(e){return e.order.orderList}})),methods:d(d({},(0,s.mapActions)({getAllOrderList_fun:"order/allOrderList",getPayOrderList_fun:"order/payOrderList",getNoPayOrderList_fun:"order/nopayOrderList",refund_fun:"order/cancelOrder"})),{},{close:function(){this.$refs.popup.close(),this.id=null,this.refundReason=""},confirm:function(e){var t=this;e?(this.refundReason=e,this.id?this.refund(this.id).then((function(){t.id=null,t.refundReason="",t.$refs.popup.close()})):(this.id=null,this.refundReason="",this.$refs.popup.close(),this.$win.nlog("系统bug请重试"))):this.$win.nlog("请输入退款理由")},showWin:function(e){this.$refs.popup.open(),this.id=e},refund:function(e){var t=this;return(0,a.default)(i.default.mark((function n(){var r;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={refundReason:t.refundReason,id:e,i:2,statu:3},n.next=3,t.refund_fun(r);case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},act:function(e,t){for(var n=0;n<this.nav.length;n++)this.nav[n].isAct=!1;e.isAct=!0,this.navIndex=t,this.pageIndex=1,0==t?this.getAllOrderList():1==t?this.getNoPayOrderList():2==t&&this.getPayOrderList()},cancelOrder:function(){var e=this;return(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$win.nlog("取消订单");case 1:case"end":return t.stop()}}),t)})))()},orderStatu:function(e){switch(e){case 0:return"未付款";case 1:return"交易完成";case 2:return"付款取消";case 3:return"申请退款";case 4:return"退款成功";case 5:return"拼团中";case 6:return"拼团成功";case 7:return"退款失败";default:return"数据错误"}},getAllOrderList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={userId:e.$db.getSync("userId"),limit:e.pageSize,page:e.pageIndex},t.next=3,e.getAllOrderList_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},getPayOrderList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={userId:e.$db.getSync("userId"),limit:e.pageSize,page:e.pageIndex},t.next=3,e.getPayOrderList_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},getNoPayOrderList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={userId:e.$db.getSync("userId"),limit:e.pageSize,page:e.pageIndex},t.next=3,e.getNoPayOrderList_fun(n);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()}}),onShow:function(){0==this.navIndex?this.getAllOrderList():1==this.navIndex?this.getNoPayOrderList():2==this.navIndex?this.getPayOrderList():this.$win.nlog("错误")},onReachBottom:function(){console.log("滚动到底部"),this.pageIndex++,0==this.navIndex?this.getAllOrderList():1==this.navIndex?this.getPayOrderList():2==this.navIndex&&this.getNoPayOrderList()}};t.default=c},f69f:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"3042"))},uniPopupDialog:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog")]).then(n.bind(null,"bd64"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.orderList&&0==e.orderList.length),r=e.__map(e.orderList,(function(t,n){var r=e.__get_orig(t),i=e.orderStatu(t.statu);return{$orig:r,m0:i}}));e._isMounted||(e.e0=function(t,n){var r=arguments[arguments.length-1].currentTarget.dataset,i=r.eventParams||r["event-params"];n=i.k;return e.$win.show("/page_shopping/orderDetail?id="+n.id)},e.e1=function(t,n){var r=arguments[arguments.length-1].currentTarget.dataset,i=r.eventParams||r["event-params"];n=i.k;return e.$win.show("/page_shopping/orderDetail?id="+n.id)}),e.$mp.data=Object.assign({},{$root:{g0:n,l0:r}})},a=[]}},[["023e","common/runtime","common/vendor"]]]);