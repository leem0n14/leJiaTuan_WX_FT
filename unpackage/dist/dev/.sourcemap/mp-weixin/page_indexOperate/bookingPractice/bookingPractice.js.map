{"version":3,"sources":["uni-app:///main.js","webpack:///O:/AworkTable/乐驾团/TheLjt2/page_indexOperate/bookingPractice/bookingPractice.vue?b33c","webpack:///O:/AworkTable/乐驾团/TheLjt2/page_indexOperate/bookingPractice/bookingPractice.vue?9ffb","webpack:///O:/AworkTable/乐驾团/TheLjt2/page_indexOperate/bookingPractice/bookingPractice.vue?f8f2","webpack:///O:/AworkTable/乐驾团/TheLjt2/page_indexOperate/bookingPractice/bookingPractice.vue?2f4e","uni-app:///page_indexOperate/bookingPractice/bookingPractice.vue","webpack:///O:/AworkTable/乐驾团/TheLjt2/page_indexOperate/bookingPractice/bookingPractice.vue?431c","webpack:///O:/AworkTable/乐驾团/TheLjt2/page_indexOperate/bookingPractice/bookingPractice.vue?9b75"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","cdn","isShuttle","receive","formattedDate","formattedDateEnd","isSub","type","typeName","pTime","sTime","pDate","course","site","addTime","practiceTime","shuttleTime","courseType","name","phone","jiesongStatu","carTime","mpTime","address","addName","addressLongitude","addressLatitude","methods","initChange","toBooking_fun","getPTime_fun","getSite_fun","getPersonMsg_fun","getRule_fun","chooseDate","changeType","chooseTime","chooseCourse","choosesite","chooseShuttleTime","shuttle","getSite","userId","res","toBooking","carType","object","mptime","longitude","latitude","chooseAddress","uni","success","console","timeToMinutes","hours","minutes","getTime","getRule","way","endTime","computed","pRes","timeList","sites","personMsg","name1","phone1","bookingRule","valid","onShow","mounted"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,wBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACc;;;AAG5E;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA2nB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACwF/oB;AAKA;AAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC,uGACA,mBACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;IAEA;EAAA,GACA;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAzC;kBACA0C;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxB;gBACA;kBACAA;gBACA;gBAAA,MACA,yGACA;kBAAA;kBAAA;gBAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGA;gBACApB;kBACA0C;kBACAxB;kBACAC;kBACA0B;kBACAC;kBACA1B;kBACAC;kBACA0B;kBACAxB;kBACAC;kBACAwB;kBACAC;kBACApC;kBACAC;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA6B;gBAAA;gBAAA;cAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACAO;MAAA;MACAC;QACA5C;QACA6C;UACA;UACA;UACAD;YACAF;YACAD;YACAI;cACAC;cACA;cACA;cACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;QAAA;QAAAC;QAAAC;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAzD;gBAAA;gBAAA,OACA;cAAA;gBAAA2C;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAe;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACAC;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACAN;kBACA;oBACAO;oBACA;oBACAP;kBACA;oBACA;kBACA;kBACAA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EAAA,EACA;EACAQ,0CACA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;EACA;IACAC;MACA,yGACA5D;IACA,EAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,EAEA;EACA6D;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;EAEA;AAEA;AAAA,2B;;;;;;;;;;;;;ACjVA;AAAA;AAAA;AAAA;AAAkrC,CAAgB,wmCAAG,EAAC,C;;;;;;;;;;;ACAtsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"page_indexOperate/bookingPractice/bookingPractice.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './page_indexOperate/bookingPractice/bookingPractice.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bookingPractice.vue?vue&type=template&id=217e6dae&\"\nvar renderjs\nimport script from \"./bookingPractice.vue?vue&type=script&lang=js&\"\nexport * from \"./bookingPractice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bookingPractice.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"page_indexOperate/bookingPractice/bookingPractice.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookingPractice.vue?vue&type=template&id=217e6dae&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      return _vm.$win.nlog(_vm.receive === 0 ? \"该时间段不可接送\" : \"\")\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookingPractice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookingPractice.vue?vue&type=script&lang=js&\"","//预约练车\r\n<template>\r\n\t<view>\r\n\t\t<view class=\"userMsg\">\r\n\t\t\t<view class=\"header\">\r\n\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t<view class=\"text\">姓名</view>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"请输入姓名\" v-model=\"name\">\r\n\t\t\t\t\t<!-- <input type=\"text\" placeholder=\"请输入姓名\" v-model=\"name\"> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"phone\">\r\n\t\t\t\t\t<!-- personMsg -->\r\n\t\t\t\t\t<view class=\"text\">手机号码</view>\r\n\t\t\t\t\t<input type=\"number\" placeholder=\"请输入手机号\" v-model=\"phone\" maxlength=\"11\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"type son\">\r\n\t\t\t\t\t<view class=\"text\">驾照类型</view>\r\n\t\t\t\t\t<picker mode=\"selector\" :range=\"typeName\" @change=\"changeType\" class=\"typeChoose\">\r\n\t\t\t\t\t\t<view>{{type}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"course son\">\r\n\t\t\t\t\t<view class=\"text\">练车科目</view>\r\n\t\t\t\t\t<picker mode=\"selector\" :range=\"courseType\" @change=\"chooseCourse\" class=\"courseChoose\">\r\n\t\t\t\t\t\t<view>{{course==''?'请选择科目':course}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"site course son\">\r\n\t\t\t\t\t<view class=\"text\">练车场地</view>\r\n\t\t\t\t\t<picker mode=\"selector\" :range=\"sites\" range-key=\"siteName\" @change=\"choosesite\"\r\n\t\t\t\t\t\tclass=\"courseChoose\">\r\n\t\t\t\t\t\t<view>{{site==''?'请选择场地':site}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"body\">\r\n\t\t\t\t<view class=\"isShuttle\">\r\n\t\t\t\t\t<view class=\"title\">{{receive===0?'该时间段不可接送':'是否接送'}}</view>\r\n\t\t\t\t\t<switch @click=\"$win.nlog(receive===0?'该时间段不可接送':'')\" :checked=\"isShuttle\" :disabled=\"receive===0\"\r\n\t\t\t\t\t\tcolor=\"#29c563\" style=\"transform:scale(0.8)\" @change=\"shuttle\" />\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"practiceTime son\">\r\n\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t练车时间\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<picker mode=\"selector\" :range=\"timeList\" :range-key=\"'carTime'\" @change=\"chooseTime\" :value=\"pTime\"\r\n\t\t\t\t\t\tclass=\"chooseTime \">\r\n\t\t\t\t\t\t<view>{{pTime}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"practiceTime son\">\r\n\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t练车日期\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<picker mode=\"date\" :start=\"formattedDate\" :end=\"formattedDateEnd\" @change=\"chooseDate\"\r\n\t\t\t\t\t\t:value=\"pDate\" class=\"chooseTime \">\r\n\t\t\t\t\t\t<view>{{pDate}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- <view class=\"shuttleTime son\" v-if=\"isShuttle\">\r\n\t\t\t\t\t<view class=\"text\">接送时间</view>\r\n\t\t\t\t\t<picker mode=\"selector\" :range=\"shuttleTime\" @change=\"chooseShuttleTime\" class=\"shuttle\">\r\n\t\t\t\t\t\t<view>{{sTime}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view class=\"sAddress son\" v-if=\"isShuttle\">\r\n\t\t\t\t\t<view class=\"text\">接送地址</view>\r\n\t\t\t\t\t<input type=\"text\" :disabled=\"true\" v-model=\"addName\" placeholder=\"请选择地址\" @click=\"chooseAddress()\">\r\n\t\t\t\t\t<image :src=\"cdn+'/icon/triangle.svg'\" class=\"triangle\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button :disabled=\"!valid\" @click=\"toBooking()\">确定</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapActions,\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport moment from 'moment'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcdn: this.$conf.CDN_HOST,\r\n\t\t\t\tisShuttle: false, //是否选择接送\r\n\t\t\t\treceive: 1, //该时间段是否可接送\r\n\t\t\t\tformattedDate: null, //今天的日期(yyyy-mm-dd)\r\n\t\t\t\tformattedDateEnd: null,\r\n\t\t\t\tisSub: false,\r\n\t\t\t\ttype: '请选择驾照类型',\r\n\t\t\t\ttypeName: ['c1(手动档)', 'c2(自动挡)', 'c3(小车)', 'A2(货车)', 'B2(货车)', 'A1(客车)', 'A3(客车)', 'B1(客车)', 'D(摩托车)',\r\n\t\t\t\t\t'E(摩托车)', 'F(摩托车)'\r\n\t\t\t\t],\r\n\t\t\t\tpTime: '请选择练车时间',\r\n\t\t\t\tsTime: '请选择接送时间',\r\n\t\t\t\tpDate: '请选择练车日期',\r\n\t\t\t\tcourse: '',\r\n\t\t\t\tsite: '',\r\n\t\t\t\taddTime: null,\r\n\t\t\t\tpracticeTime: ['7月28日14:00到17:00', '7月29日14:00到17:00', '7月30日14:00到17:00', '7月31日14:00到17:00'],\r\n\t\t\t\tshuttleTime: ['7月28日14:00', '7月29日14:00'],\r\n\t\t\t\tcourseType: ['科目二', '科目三'],\r\n\t\t\t\tname: null,\r\n\t\t\t\tphone: null,\r\n\t\t\t\tjiesongStatu: null,\r\n\t\t\t\tcarTime: null,\r\n\t\t\t\tmpTime: null,\r\n\t\t\t\taddress: null,\r\n\t\t\t\taddName: null,\r\n\t\t\t\taddressLongitude: null,\r\n\t\t\t\taddressLatitude: null,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tinitChange() {\r\n\t\t\t\tthis.name = this.name1\r\n\t\t\t\tthis.phone = this.phone1\r\n\r\n\t\t\t},\r\n\t\t\t...mapActions({\r\n\t\t\t\ttoBooking_fun: 'booking/toPractice',\r\n\t\t\t\tgetPTime_fun: 'booking/getPTime',\r\n\t\t\t\tgetSite_fun: 'booking/getSite',\r\n\t\t\t\tgetPersonMsg_fun: 'user/getPerson',\r\n\t\t\t\tgetRule_fun: 'booking/getBookingRule',\r\n\t\t\t}),\r\n\t\t\t//选择日期\r\n\t\t\tchooseDate(e) {\r\n\t\t\t\t// console.log(e);\r\n\t\t\t\tthis.pDate = e.detail.value\r\n\t\t\t\tthis.addTime = e.detail.value\r\n\t\t\t\t// var l = moment(e.detail.value).unix()\r\n\t\t\t\t// console.log(l,e,'?');\r\n\t\t\t\t// this.addTime = l\r\n\t\t\t},\r\n\t\t\t//选择驾照类型\r\n\t\t\tchangeType(e) {\r\n\t\t\t\tthis.type = this.typeName[e.detail.value]\r\n\t\t\t},\r\n\t\t\t//选择练车时间\r\n\t\t\tchooseTime(e) {\r\n\t\t\t\tthis.isShuttle = false\r\n\t\t\t\tthis.address = ''\r\n\t\t\t\tthis.addName = ''\r\n\t\t\t\tthis.addressLatitude = ''\r\n\t\t\t\tthis.addressLongitude = ''\r\n\t\t\t\tthis.pTime = this.timeList[e.detail.value].carTime\r\n\t\t\t\tthis.receive = this.timeList[e.detail.value].receive\r\n\t\t\t},\r\n\t\t\t//选择练车科目\r\n\t\t\tchooseCourse(e) {\r\n\t\t\t\tthis.course = this.courseType[e.detail.value]\r\n\t\t\t},\r\n\t\t\t//选择练车场地\r\n\t\t\tchoosesite(e) {\r\n\t\t\t\t// console.log(e);\r\n\t\t\t\tthis.site = this.sites[e.detail.value].siteName\r\n\t\t\t},\r\n\t\t\t//选择接送时间\r\n\t\t\tchooseShuttleTime(e) {\r\n\t\t\t\tthis.sTime = this.shuttleTime[e.detail.value]\r\n\t\t\t},\r\n\t\t\tshuttle() {\r\n\t\t\t\tthis.isShuttle = !this.isShuttle\r\n\t\t\t},\r\n\r\n\t\t\t//获取练车场地列表\r\n\t\t\tasync getSite() {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tuserId: this.$db.getSync('userId')\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.getSite_fun(data)\r\n\t\t\t},\r\n\t\t\tasync toBooking() {\r\n\t\t\t\tlet jiesongStatu = 0\r\n\t\t\t\tif (this.isShuttle) {\r\n\t\t\t\t\tjiesongStatu = 1\r\n\t\t\t\t}\r\n\t\t\t\tif (this.name && this.phone && this.type != '请选择驾照类型' && this.course != '请选择练车科目' && this.pTime !=\r\n\t\t\t\t\t'请选择练车时间' && this.valid) {\r\n\t\t\t\t\tif (this.phone.length < 11) {\r\n\t\t\t\t\t\tthis.$win.nlog('手机号不足11位')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.isSub = true\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tuserId: this.$db.getSync('userId'),\r\n\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\t\tcarType: this.type,\r\n\t\t\t\t\t\tobject: this.course,\r\n\t\t\t\t\t\tjiesongStatu,\r\n\t\t\t\t\t\tcarTime: this.pTime,\r\n\t\t\t\t\t\tmptime: this.sTime,\r\n\t\t\t\t\t\taddress: this.address,\r\n\t\t\t\t\t\taddName: this.addName,\r\n\t\t\t\t\t\tlongitude: this.addressLongitude,\r\n\t\t\t\t\t\tlatitude: this.addressLatitude,\r\n\t\t\t\t\t\tsite: this.site,\r\n\t\t\t\t\t\taddTime: this.addTime,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet res = await this.toBooking_fun(data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$win.nlog('请填写完整信息')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchooseAddress() {\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst latitude = res.latitude;\r\n\t\t\t\t\t\tconst longitude = res.longitude;\r\n\t\t\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\t\t\tlatitude: latitude,\r\n\t\t\t\t\t\t\tlongitude: longitude,\r\n\t\t\t\t\t\t\tsuccess: (res1) => {\r\n\t\t\t\t\t\t\t\tconsole.log(res1);\r\n\t\t\t\t\t\t\t\t// this.address=res1.address+' '+res1.address\r\n\t\t\t\t\t\t\t\tthis.address = res1.address\r\n\t\t\t\t\t\t\t\tthis.addName = res1.name\r\n\t\t\t\t\t\t\t\tthis.addressLatitude = res1.latitude\r\n\t\t\t\t\t\t\t\tthis.addressLongitude = res1.longitude\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttimeToMinutes(time) {\r\n\t\t\t\tconst [hours, minutes] = time.split(\":\");\r\n\t\t\t\treturn parseInt(hours, 10) * 60 + parseInt(minutes, 10);\r\n\t\t\t},\r\n\r\n\t\t\tasync getTime() {\r\n\t\t\t\tlet data = {}\r\n\t\t\t\tlet res = await this.getPTime_fun(data)\r\n\t\t\t},\r\n\r\n\t\t\tasync getRule() {\r\n\t\t\t\tawait this.getRule_fun({\r\n\t\t\t\t\tway: 1\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tlet date = new Date().getTime()\r\n\t\t\t\t\t// console.log(date, \"date1111111111111111\")\r\n\t\t\t\t\t// console.log(moment(date).format('YYYY-MM-DD'), \"date2222\")\r\n\t\t\t\t\tlet currentDate = new Date(); // 获取当前日期对象\r\n\t\t\t\t\tlet currentHour = currentDate.getHours(); // 获取当前小时数\r\n\t\t\t\t\tlet currentMinute = currentDate.getMinutes(); // 获取当前分钟数\r\n\t\t\t\t\tlet currentTotalMinutes = currentHour * 60 + currentMinute;\r\n\t\t\t\t\t// console.log(this.bookingRule)\r\n\t\t\t\t\tlet endTime = date + this.bookingRule.days * 24 * 60 * 60 * 1000 //提前多少天的时间戳\r\n\t\t\t\t\t// console.log(endTime, 'endTime');\r\n\t\t\t\t\t// console.log(this.bookingRule.endTime)\r\n\t\t\t\t\tlet endTimeMinutes = this.timeToMinutes(this.bookingRule.endTime);\r\n\t\t\t\t\tconsole.log(endTimeMinutes)\r\n\t\t\t\t\tif (currentTotalMinutes >= endTimeMinutes) {\r\n\t\t\t\t\t\tendTime += 1 * 24 * 60 * 60 * 1000\r\n\t\t\t\t\t\tthis.formattedDate = moment(endTime).format('YYYY-MM-DD')\r\n\t\t\t\t\t\tconsole.log(\"cc\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.formattedDate = moment(endTime).format('YYYY-MM-DD')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(this.formattedDate, \"this.formattedDate\")\r\n\t\t\t\t\t// this.formattedDateEnd = moment(endTime).format('YYYY-MM-DD')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tpRes: state => state.booking.pRes,\r\n\t\t\t\ttimeList: state => state.booking.timeList,\r\n\t\t\t\tsites: state => state.booking.site,\r\n\t\t\t\tpersonMsg: state => state.user.getPersonRes,\r\n\t\t\t\tname1: state => state.user.name,\r\n\t\t\t\tphone1: state => state.user.phone,\r\n\t\t\t\tbookingRule: state => state.booking.bookingRule,\r\n\t\t\t}),\r\n\t\t\tvalid() {\r\n\t\t\t\treturn this.name && this.phone && this.type != '请选择驾照类型' && this.course != '' && this.site != '' && this\r\n\t\t\t\t\t.pTime != '请选择练车时间' && this.pDate != '请选择练车日期' && (!this.isShuttle || this.addName)\r\n\t\t\t},\r\n\r\n\t\t\t// name: {\r\n\t\t\t// \tget() {\r\n\t\t\t// \t\treturn this.$store.state.user.getPersonRes.name?this.$store.state.user.getPersonRes.name:null;\r\n\t\t\t// \t},\r\n\t\t\t// \tset(value) {\r\n\t\t\t// \t\tif(value)\r\n\t\t\t// \t\tthis.$store.commit('user/getPersonRes', value);\r\n\t\t\t// \t\telse value=null\r\n\t\t\t// \t},\r\n\t\t\t// \tinitialName() {\r\n\t\t\t// \t\treturn this.$store.state.user.getPersonRes.name;\r\n\t\t\t// \t},\r\n\t\t\t// },\r\n\t\t\t// phone: {\r\n\t\t\t// \tget() {\r\n\t\t\t// \t\treturn this.$store.state.user.getPersonRes.phone?this.$store.state.user.getPersonRes.phone:null;\r\n\t\t\t// \t},\r\n\t\t\t// \tset(value) {\r\n\t\t\t// \t\tif(value)\r\n\t\t\t// \t\tthis.$store.commit('user/getPersonRes', value);\r\n\t\t\t// \t\telse value=null\r\n\t\t\t// \t},\r\n\t\t\t// \tinitialName() {\r\n\t\t\t// \t\treturn this.$store.state.user.getPersonRes.phone;\r\n\t\t\t// \t},\r\n\t\t\t// },\r\n\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getTime()\r\n\t\t\tthis.getSite()\r\n\t\t\tthis.initChange()\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet date = new Date().getTime()\r\n\t\t\tthis.formattedDate = moment(date).format('YYYY-MM-DD')\r\n\t\t\tthis.getRule()\r\n\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground-color: #f2f3f5;\r\n\t}\r\n\r\n\t/* 上半部分start */\r\n\t.userMsg .header {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 750rpx;\r\n\t\tpadding: 0 0 50rpx;\r\n\t\tbackground: #ffffff;\r\n\t}\r\n\r\n\t.text {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-left: 30rpx;\r\n\t\twidth: 172rpx;\r\n\t\theight: 90rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans CN, Source Han Sans CN-Regular;\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: left;\r\n\t\tcolor: #666666;\r\n\t\tline-height: 90rpx;\r\n\t\t/* \tbackground-color: skyblue;\r\n\tborder-radius: 8rpx; */\r\n\t}\r\n\r\n\t.name,\r\n\t.phone,\r\n\t.type,\r\n\t.course {\r\n\t\tdisplay: flex;\r\n\t\twidth: 690rpx;\r\n\t\theight: 90rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t\tbackground: #f2f2f2;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n\r\n\t.name input,\r\n\t.phone input,\r\n\t.sAddress input {\r\n\t\t/* \t\tbackground-color: pink; */\r\n\t\theight: 100%;\r\n\t\twidth: 578rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans CN, Source Han Sans CN-Regular;\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: left;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.typeChoose,\r\n\t.courseChoose {\r\n\t\twidth: 578rpx;\r\n\t\theight: 100%;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans CN, Source Han Sans CN-Regular;\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: left;\r\n\t\tcolor: #999999;\r\n\t\tline-height: 90rpx;\r\n\t\t/* background-color: pink; */\r\n\t}\r\n\r\n\t/* 上半部分end */\r\n\r\n\r\n\t/* 下半部分start */\r\n\r\n\t.body {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 40rpx 0;\r\n\t\theight: 750rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\r\n\t.isShuttle {\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 30rpx 10rpx;\r\n\t}\r\n\r\n\t.isShuttle .title {\r\n\t\t// width: 128rpx;\r\n\t\theight: 100%;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: Source Han Sans CN, Source Han Sans CN-Regular;\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: left;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 60rpx;\r\n\t}\r\n\r\n\t.practiceDate,\r\n\t.practiceTime,\r\n\t.shuttleTime,\r\n\t.sAddress {\r\n\t\tdisplay: flex;\r\n\t\twidth: 690rpx;\r\n\t\theight: 90rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t\tbackground: #f2f2f2;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n\r\n\r\n\r\n\t.chooseTime,\r\n\t.shuttle {\r\n\t\twidth: 578rpx;\r\n\t\theight: 100%;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans CN, Source Han Sans CN-Regular;\r\n\t\tfont-weight: 400;\r\n\t\ttext-align: left;\r\n\t\tcolor: #999999;\r\n\t\tline-height: 90rpx;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tposition: absolute;\r\n\t\ttop: 520rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #fff;\r\n\t\twidth: 580rpx;\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t\tbackground: linear-gradient(134deg, #54d685, #29c563 99%);\r\n\t\tborder-radius: 45rpx;\r\n\t}\r\n\r\n\t/* 下半部分end */\r\n\r\n\t.son {\r\n\t\tposition: relative;\r\n\r\n\t\t.triangle {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 40rpx;\r\n\t\t\tright: 40rpx;\r\n\t\t\twidth: 25rpx;\r\n\t\t\theight: 18rpx;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookingPractice.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookingPractice.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1721177954325\n      var cssReload = require(\"O:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}